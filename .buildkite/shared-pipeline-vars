#!/bin/sh

# This file is `source`'d before calling `buildkite-agent pipeline upload`, and can be used
# to set up some variables that will be interpolated in the `.yml` pipeline before uploading it.

# üéóÔ∏è If you update the image to a newer Xcode version, don't forget to also update the badge in the README.md file accordingly for consistency
export IMAGE_ID="xcode-15.4"

# Uncomment this to experiment with an Xcode beta only on PRs and TestFlight beta builds
# (while still using the latest stable Xcode declared above for final Release Builds)
if [[ "$PIPELINE" == "pipeline.yml" || "$BETA_RELEASE" == "true" ]]; then
  export IMAGE_ID="xcode-16.0-beta5"
fi

export CI_TOOLKIT="automattic/a8c-ci-toolkit#3.5.0"
